---
title: Object Pool 을 응용하여 한정된 자원을 관리
date: 2024-12-21
---
## 어디서
Thread Pool, DB Connection Pool 등 Pool이라는 개념은 운영체제 전공책부터 실제로 상품에서 적극적으로 쓰이는 기술이다. 요즘에 선착순 쿠폰과 같은 한정된 자원을 동시성 이슈를 피하고 최대한 빠르게 유저의 많은 요청을 처리하고 응답해주는지에; 관해 고민을 하고 있다. 그러던 중 이 Pool 이라는 개념을 쿠폰 발급에 적용하면 어떨까?

## 왜
객체 지향 프로그래밍 패러다임에서 모든 것을 객체로 본다는게 그가다. 사실 쿠폰을 객체로 보면 쿠폰 속성에 쿠폰 을 발급받은 유저의 id, 발급된 시간 등을 객체에 두면 별 문제가 안될거 같긴하다

## 예상되는 장점
- 만약 한정된 자원의 컴퓨터 자원을 사용할 수 있다면 예측가능한 객체만 생성하면되니 예측이 가능한 서비스를 제공이 된다. 미리 만들어 놓은 객체를 모아놓은 곳이 Object Pool 이고 이 Pool 은 채워지지는 않고 빠져나가기만 한다.
- 객체를 생성하는데 사용되는 시간, CPU 등이 절약이 된다. 물론 쿠폰객체가 리소스를 많이 요구하지 않기에 큰 시간적 이득은 없을걸로 생각은 되지만, 앞서 말한 한정된 컴퓨팅 자원에서 예측된 리소스를 사용할 수 있는게 매력적이다.
## 예상되는 단점
- 미리 객체를 생성해 놓는것이기에 
- 동시에 접근시 동기화 매커니즘이 필요한데 이를 락등을 활용해야할 텐데 병목을 어떻게 개선할 수 있을지가 문제다.
- 객체를 미리 만들어 둬야하기에 클래스 설계에 문제가 있을지 새로 객체를 만들어 풀에 넣어줘야하여 유연성이 부족할 수 있다.
